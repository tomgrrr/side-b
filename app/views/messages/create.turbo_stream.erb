<%= turbo_stream.append "messages" do %>
  <%= render partial: "messages/message", locals: { message: @message } %>
<% end %>

<%= turbo_stream.append "messages" do %>
  <%= render partial: "messages/message", locals: { message: @assistant_message } %>
<% end %>

<%= turbo_stream.replace "new_message" do %>
  <%= simple_form_for [@chat, Message.new], html: { class: 'chat-form', id: 'new_message' } do |f| %>
    <div class="input-wrapper">
      <%= f.input :content,
        as: :string,
        label: false,
        required: true,
        placeholder: "Ask me for recommendations...",
        wrapper: false,
        input_html: { class: 'chat-input', autocomplete: 'off' } %>
      <%= f.button :submit, 'â†’', class: 'send-btn' %>
    </div>
  <% end %>
<% end %>
